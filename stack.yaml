resolver: lts-10.7

packages:
- '.'
- 'tools'

nix:
  shell-file: shell.nix

extra-deps:
- log-warper-1.8.11
- pretty-tree-0.1.0.0
- serokell-util-0.8.0
- time-units-1.0.0
- componentm-0.0.0.2
- rio-0.1.2.0
- typed-process-0.2.2.0
- teardown-0.5.0.0
- unliftio-0.2.7.0

- git: https://github.com/serokell/kademlia.git
  commit: 7120bb4d28e708acd52dfd61d3dca7914fac7d7f # master

- git: https://github.com/thoughtpolice/hs-ed25519
  # We're waiting on next release
  commit: da4247b5b3420120e20451e6a252e2a2ca15b43c

- git: https://github.com/serokell/cardano-sl
  commit: e01c3730e1a3cf46296c3e3decffc6e780e2092c
  subdirs:
    - networking

# These three are needed for cardano-sl-networking
- git: https://github.com/serokell/network-transport-tcp
  commit: 3d56652123bd296dc759cd31947eb2a17924e68a # csl-0.6.0

- git: https://github.com/serokell/network-transport
  commit: 018a50b9042c2115c3ec9c9fd5ca5f28737dd29c

- git: https://github.com/avieth/network-transport-inmemory
  commit: 5d8ff2b07b9df35cf61329a3d975e2c8cf95c12a

- git: git@github.com:serokell/auth-data-structures.git
  commit: 3bd0cbc7ac0408f897f11746dbd245e3f8437bbb

- git: git@github.com:serokell/snowdrop.git
  commit: ac5c7cf3cff367982c4f973c15472b2cc2209186
  subdirs:
    - snowdrop

- git: https://github.com/serokell/rocksdb-haskell.git
  commit: 2dd6b4ffdc4edb86b477273ee3c8416a1520f4e1

- git: https://github.com/serokell/lootbox.git
  commit: a3d6b30fae4ff142b7a0697f07af9d4ca055b1a1
  subdirs:
    - code/base
    - code/log
    - code/network
    - code/prelude

# Forced by lootbox #
- base-noprelude-4.10.1.0
# - log-warper-1.8.9 - overriden above
- serialise-0.2.0.0
# - serokell-util-0.6.0 - overriden above
- vinyl-0.8.1.1
- universum-1.1.0

- git: https://github.com/int-index/caps
  commit: 2f46fc6d5480bdef0a17f64359ad6eb29510dba4

# for caps
- git: https://github.com/mokus0/dependent-sum
  commit: f8909cb323b4ffa63af6c4e7cb3a9745e6199080

# for log-warper
- o-clock-0.1.1

# for serialise
- cborg-0.2.0.0
# Lootbox dependencies end #

# Needed to build `cardano-sl-networking` with newer GHC
ghc-options:
  cardano-sl-networking: -fno-warn-redundant-constraints

apply-ghc-options: everything
